C51 COMPILER V9.60.7.0   MAIN                                                              03/08/2023 21:59:38 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\BaiduNetdiskDownload\Keil5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PR
                    -INT(.\Listings\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "Delay.h"
   3          #include "Timer0.h"
   4          
   5          //èœ‚é¸£å™¨ç«¯å£å®šä¹‰
   6          sbit Buzzer=P2^5;
   7          
   8          //æ’­æ”¾é€Ÿåº¦ï¼Œå€¼ä¸ºå››åˆ†éŸ³ç¬¦çš„æ—¶é•¿(ms)
   9          #define SPEED 500
  10          
  11          //éŸ³ç¬¦ä¸ç´¢å¼•å¯¹åº”è¡¨ï¼ŒPï¼šä¼‘æ­¢ç¬¦ï¼ŒLï¼šä½éŸ³ï¼ŒMï¼šä¸­éŸ³ï¼ŒHï¼šé«˜éŸ³ï¼Œä¸‹åˆ’çº¿ï¼šå‡åŠéŸ³ç
             -¬¦å·#
  12          #define P 0
  13          #define L1  1
  14          #define L1_ 2
  15          #define L2  3
  16          #define L2_ 4
  17          #define L3  5
  18          #define L4  6
  19          #define L4_ 7
  20          #define L5  8
  21          #define L5_ 9
  22          #define L6  10
  23          #define L6_ 11
  24          #define L7  12
  25          #define M1  13
  26          #define M1_ 14
  27          #define M2  15
  28          #define M2_ 16
  29          #define M3  17
  30          #define M4  18
  31          #define M4_ 19
  32          #define M5  20
  33          #define M5_ 21
  34          #define M6  22
  35          #define M6_ 23
  36          #define M7  24
  37          #define H1  25
  38          #define H1_ 26
  39          #define H2  27
  40          #define H2_ 28
  41          #define H3  29
  42          #define H4  30
  43          #define H4_ 31
  44          #define H5  32
  45          #define H5_ 33
  46          #define H6  34
  47          #define H6_ 35
  48          #define H7  36
  49          
  50          //ç´¢å¼•ä¸é¢‘ç‡å¯¹ç…§è¡¨
  51          unsigned int FreqTable[]={
  52            0,
  53            63628,63731,63835,63928,64021,64103,64185,64260,64331,64400,64463,64528,
C51 COMPILER V9.60.7.0   MAIN                                                              03/08/2023 21:59:38 PAGE 2   

  54            64580,64633,64684,64732,64777,64820,64860,64898,64934,64968,65000,65030,
  55            65058,65085,65110,65134,65157,65178,65198,65217,65235,65252,65268,65283,
  56          };
  57          
  58          //ä¹è°±
  59          unsigned char code Music[]={
  60              H3,4+4,
  61              H2,4+4,
  62          
  63              H3,4+4,
  64              H2,2,
  65              H3,2,
  66              H5,2,
  67              H3,2,
  68          
  69              H2,4+4,
  70              H1,4+4,
  71          
  72              M7,4+4,
  73              H1,4+4,
  74          
  75              M4,16,
  76          
  77              M4,16,
  78          
  79              M1,16,
  80              
  81              M1,16,
  82          
  83              M3,8,
  84              M2,8,
  85          
  86              H3,8,
  87              H2,2,
  88              H3,2,
  89              H5,2,
  90              H3,2,
  91          
  92              H2,8,
  93              H3,8,
  94          
  95              H5,8,
  96              H7,8,
  97          
  98              M4,16,
  99          
 100              M4,16,
 101          
 102              M1,16,
 103          
 104              H1_,16,
 105          
 106              M6,8,
 107              H6,8,
 108          
 109              M6,8,
 110              H6,8,
 111          
 112              M6,8,
 113              H6,4,
 114              H5,4,
 115          
C51 COMPILER V9.60.7.0   MAIN                                                              03/08/2023 21:59:38 PAGE 3   

 116              H3,4,
 117              H2,4,
 118              H1,4,
 119              H5,2,
 120              H3,2,
 121          
 122              
 123          
 124              0xFF
 125          };
 126          
 127          unsigned char FreqSelect,MusicSelect;
 128          
 129          void main()
 130          {
 131   1        Timer0Init();
 132   1        while(1)
 133   1        {
 134   2          if(Music[MusicSelect]!=0xFF)  //å¦‚æœä¸æ˜¯åœæ­¢æ ‡å¿—ä½
 135   2          {
 136   3            FreqSelect=Music[MusicSelect];  //é€‰æ‹©éŸ³ç¬¦å¯¹åº”çš„é¢‘ç‡
 137   3            MusicSelect++;
 138   3            Delay(SPEED/4*Music[MusicSelect]);  //é€‰æ‹©éŸ³ç¬¦å¯¹åº”çš„æ—¶å€¼
 139   3            MusicSelect++;
 140   3            TR0=0;
 141   3            Delay(5); //éŸ³ç¬¦é—´çŸ­æš‚åœé¡¿
 142   3            TR0=1;
 143   3          }
 144   2          else  //å¦‚æœæ˜¯åœæ­¢æ ‡å¿—ä½
 145   2          {
 146   3            TR0=0;
 147   3            while(1);
 148   3          }
 149   2        }
 150   1      }
 151          
 152          void Timer0_Routine() interrupt 1
 153          {
 154   1        if(FreqTable[FreqSelect]) //å¦‚æœä¸æ˜¯ä¼‘æ­¢ç¬¦
 155   1        {
 156   2          /*å–å¯¹åº”é¢‘ç‡å€¼çš„é‡è£…è½½å€¼åˆ°å®šæ—¶å™¨*/
 157   2          TL0 = FreqTable[FreqSelect]%256;    //è®¾ç½®å®šæ—¶åˆå€¼
 158   2          TH0 = FreqTable[FreqSelect]/256;    //è®¾ç½®å®šæ—¶åˆå€¼
 159   2          Buzzer=!Buzzer; //ç¿»è½¬èœ‚é¸£å™¨IOå£
 160   2        }
 161   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    101    ----
   CONSTANT SIZE    =     85    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     76    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
