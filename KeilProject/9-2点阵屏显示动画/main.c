#include <REGX52.H>
#include "Delay.h"
#include "Matrix.h"

//?如果在定义前写code关键字，那么数据将会被保存在flash中（容量较大，但无法更改），否则将会被保存在RAM中
unsigned char code Animation[]={
   0x18,0x18,0x3D,0x5A,0x98,0x28,0x28,0x28,
0x5A,0x5A,0x3C,0x18,0x18,0x28,0x18,0x08,
0x30,0x18,0x3C,0x1C,0x18,0x18,0x18,0x08,
0x30,0x98,0x7C,0x18,0x18,0x28,0x18,0x08,
0x10,0x18,0x3C,0x3C,0x18,0x28,0x28,0x08,
0x30,0x18,0x3C,0x3C,0x18,0x24,0x24,0x44,
0x30,0x18,0x3C,0x38,0x18,0x28,0x24,0x44,
	
0x18,0x0C,0x1E,0x1C,0x0C,0x14,0x24,0x44,
0x00,0x30,0x18,0x3C,0x1C,0x38,0x28,0x44,
0x00,0xC0,0x60,0xF0,0xF0,0x30,0x48,0x44,
	0x00,0x30,0x18,0x3C,0x1C,0x38,0x28,0x44,
0x18,0x0C,0x1E,0x1C,0x0C,0x14,0x24,0x44,
0x00,0x30,0x18,0x3C,0x1C,0x38,0x28,0x44,
0x00,0xC0,0x60,0xF0,0xF0,0x30,0x48,0x44,
	0x00,0x30,0x18,0x3C,0x1C,0x38,0x28,0x44,
0x18,0x0C,0x1E,0x1C,0x0C,0x14,0x24,0x44,
0x00,0x30,0x18,0x3C,0x1C,0x38,0x28,0x44,
0x00,0xC0,0x60,0xF0,0xF0,0x30,0x48,0x44,
	
0x00,0x30,0x18,0x3C,0x1C,0x38,0x28,0x44,
0x18,0x0C,0x1E,0x1C,0x0C,0x14,0x24,0x44,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

void main()
{
    unsigned char i,Offset=0,Count=0;
	MatrixLED_Init();
	while(1)
	{
        for(i=0;i<8;i++)
        {
             MatrixLED_ShowColumn(i,Animation[i+Offset]);
        }
        Count++;
        if(Count>40)
        {
            Count=0;
            Offset+=8;
            if(Offset>160)
            {
                Offset=0;
            }
        }
	}
}